{"version":3,"file":"vue.js","sources":["../src/compiler/parse.js","../src/compiler/index.js","../src/utils.js","../src/observe/dep.js","../src/observe/watcher.js","../src/gloablAPI.js","../src/vdom/index.js","../src/vdom/patch.js","../src/lifecycle.js","../src/observe/array.js","../src/observe/index.js","../src/state.js","../src/init.js","../src/index.js"],"sourcesContent":["\r\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`; // 标签名 \r\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`; //  用来获取的标签名的 match后的索引为1的\r\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // 匹配开始标签的 <div\r\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); // 匹配闭合标签的\r\n//           aa  =   \"  xxx \"  | '  xxxx '  | xxx\r\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/; // a=b  a=\"b\"  a='b'\r\nconst startTagClose = /^\\s*(\\/?)>/; //   <div>  <img / >   \r\n\r\n\r\n//对模板进行编译处理\r\nexport function parseHTML(html) { //对html最开始肯定是一个 </div>\r\n  \r\n  const ELEMENT_TYPE = 1\r\n  const TEXT_TYPE = 3\r\n  const stack = [] //用于存放元素\r\n  let currentParent //指向的是栈中的最后一个\r\n  let root\r\n\r\n  //最终需要转换成一颗抽象语法树\r\n  function createASTElement(tag, attrs) {\r\n    return {\r\n      tag, \r\n      type:ELEMENT_TYPE,\r\n      children:[],\r\n      attrs,\r\n      parent:null\r\n    }\r\n  }\r\n\r\n  function start(tag, attrs) {\r\n    let node = createASTElement(tag, attrs) //创造一个ast节点\r\n    if (!root) {\r\n      root = node\r\n    }\r\n    if(currentParent){\r\n      node.parent = currentParent\r\n      currentParent.children.push(node)\r\n    }\r\n\r\n    stack.push(node)\r\n    currentParent = node\r\n  }\r\n  \r\n  function chars(text) { //文本直接放到当前指向的节点中\r\n    text = text.replace(/\\s/g, '')\r\n    if (text) {\r\n      currentParent.children.push({\r\n        type:TEXT_TYPE,\r\n        text,\r\n        parent:currentParent\r\n      })\r\n    }\r\n  }\r\n\r\n  function end(tag) {\r\n    let node = stack.pop() //弹出最后一个，校验标签是否合法\r\n    currentParent = stack[stack.length - 1]\r\n  }\r\n  \r\n  function advance(n) {\r\n    html = html.substring(n)\r\n  }\r\n  function parseStartTag() {\r\n    const start = html.match(startTagOpen)\r\n    if (start) {\r\n      const match = {\r\n        tagName:start[1],\r\n        attrs:[]\r\n      }\r\n      advance(start[0].length)\r\n\r\n      let attr, end\r\n      while (! (end = html.match(startTagClose)) && (attr = html.match(attribute))) {\r\n        advance(attr[0].length)\r\n        match.attrs.push({name:attr[1], value: attr[3] || attr[4] || attr[5]})\r\n      }\r\n      if (end) {\r\n        advance(end[0].length)\r\n      }\r\n      return match\r\n    }\r\n    return false\r\n  }\r\n  while (html) {\r\n    //如果textEnd 为0 说明是一个开始标签或者结束标签\r\n    //如果textEnd > 0 说明就是文本的结束位置 \r\n    let textEnd = html.indexOf('<')\r\n    if (textEnd === 0) {\r\n       const startTagMatch =  parseStartTag() //开始标签的匹配结果\r\n      if (startTagMatch) { // 解析到的开始标签\r\n        start(startTagMatch.tagName, startTagMatch.attrs)\r\n      }\r\n      let endTagMatch = html.match(endTag)\r\n      if (endTagMatch) {\r\n        end(endTagMatch[1])\r\n        advance(endTagMatch[0].length)\r\n      }\r\n    }\r\n    if (textEnd > 0) {\r\n      let text = html.substring(0, textEnd)//文本内容\r\n      if (text) {\r\n        chars(text)\r\n        advance(text.length)\r\n      }\r\n    }\r\n  }\r\n  return root\r\n}","import { parseHTML } from \"./parse\"\r\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g; // {{aaaaa}}\r\nfunction genProps(attrs) {\r\n  let str = ''\r\n  for (let i = 0; i < attrs.length; i++) {\r\n    let attr = attrs[i]\r\n    if (attr.name === 'style') {\r\n      let styleObj = {}\r\n      attr.value.replace(/([^:;]+):([^:;]+)/g, function (...res) {\r\n        styleObj[res[1]] = res[2]      \r\n      })\r\n      attr.value = styleObj\r\n    }\r\n    str += `${attr.name}:${JSON.stringify(attr.value)},`   \r\n  }\r\n  return `{${str.slice(0, -1)}}`  \r\n}\r\n\r\nfunction gen(node) {\r\n  if (node.type === 1) {\r\n    return codegen(node)\r\n  }else{\r\n    //文本\r\n    let text = node.text\r\n    if (!defaultTagRE.test(text)) {\r\n      return `_v(${JSON.stringify(text)})`\r\n    }else{\r\n      let tokens = []\r\n      let match\r\n      defaultTagRE.lastIndex = 0\r\n      let lastIndex = 0\r\n      while (match = defaultTagRE.exec(text)) {\r\n        let index = match.index //匹配到的位置\r\n        if (index > lastIndex) {\r\n          tokens.push(JSON.stringify(text.slice(lastIndex, index)))\r\n        }\r\n        tokens.push(`_s(${match[1].trim()})`)\r\n        lastIndex = index + match[0].length\r\n      }\r\n      if (lastIndex < text.length) {\r\n        tokens.push(JSON.stringify(text.slice(lastIndex)))\r\n      }\r\n      return `_v(${tokens.join('+')})`\r\n    }\r\n  }\r\n}\r\n\r\nfunction genChildren(ast) {\r\n  return ast.children.map(child => gen(child)).join(',')\r\n}\r\n\r\nfunction codegen(ast) {\r\n  let children = genChildren(ast)\r\n  let code = `_c('${ast.tag}',${ast.attrs.length > 0? genProps(ast.attrs) : 'null'}${ast.children.length? `,${children}`:''})`\r\n\r\n  return code\r\n}\r\n\r\n\r\n//对模板进行编译处理\r\nexport function compileToFunction(template){ \r\n  \r\n  //1.就是将template 转化成ast语法树\r\n  let ast = parseHTML(template)\r\n  //2.生成render方法（render方法 执行后的 返回的结果就是 虚拟DOM）\r\n  let code = codegen(ast)\r\n  code = `with(this){return ${code}}`\r\n  let render = new Function(code)\r\n\r\n  return render\r\n}","const strats = {}\r\n const LIFECYCLE = [\r\n   'beforeCreate',\r\n   'created'\r\n ]\r\n LIFECYCLE.forEach(hook => {\r\n   strats[hook] = function (p, c) {\r\n     if (c) {\r\n       if (p) {\r\n         return p.concat(c)\r\n       } else {\r\n         return [c]\r\n       }\r\n     } else {\r\n       return p\r\n     }\r\n   }\r\n })\r\nexport function mergeOptions(parent, child) {\r\n   const options = {}\r\n   for (let key in parent) {\r\n     mergeField(key)\r\n   }\r\n   for (let key in child) {\r\n     if (!parent.hasOwnProperty(key)) {\r\n       mergeField(key)\r\n     }\r\n   }\r\n\r\n   function mergeField(key) {\r\n     if (strats[key]) {\r\n       options[key] = strats[key](parent[key], child[key])\r\n     } else {\r\n       options[key] = child[key] || parent[key]\r\n     }\r\n   }\r\n   return options\r\n }\r\n\r\n\r\n\r\n let callbacks = []\r\nlet waiting = false\r\n\r\nfunction flushCallbacks() {\r\n  let cbs = callbacks.slice(0)\r\n  waiting = false\r\n  callbacks = []\r\n  cbs.forEach(cb => cb())\r\n}\r\n\r\nlet timerFunc\r\n\r\nif (Promise) {\r\n  timerFunc = () => {\r\n    Promise.resolve().then(flushCallbacks)\r\n  }\r\n}else if (MutationObserver) {\r\n  let observer = new MutationObserver(flushCallbacks)\r\n  let textNode = document.createTextNode(1)\r\n  observer.observe(textNode,{\r\n    characterData:true\r\n  })\r\n  timerFunc = () => {\r\n    textNode.textContent = 2\r\n  }\r\n}else if (setImmediate) {\r\n  timerFunc = () => {\r\n    setImmediate(flushCallbacks)\r\n  }\r\n}else {\r\n  setTimeout(flushCallbacks)\r\n}\r\n\r\nexport function nextTick(cb) {\r\n  callbacks.push(cb)\r\n  if (!waiting) {\r\n    timerFunc()\r\n    waiting = true\r\n  }\r\n}","\r\nlet id = 0\r\nclass Dep {\r\n  constructor(){\r\n    this.id = id++\r\n    this.subs = []\r\n  }\r\n  depend(){\r\n    Dep.target.addDep(this)\r\n  }\r\n  addSub(watcher){\r\n    this.subs.push(watcher)\r\n  }\r\n  notify(){\r\n    this.subs.forEach(watcher => watcher.update())\r\n  }\r\n}\r\nDep.target = null\r\n\r\nlet stack = []\r\n\r\nexport function pushTarget(watcher) {\r\n  stack.push(watcher)\r\n  Dep.target = watcher\r\n}\r\n\r\nexport function popTarget() {\r\n  stack.pop()\r\n  Dep.target = stack[stack.length - 1]\r\n}\r\nexport default Dep","import { nextTick } from \"../utils\"\r\nimport Dep, { popTarget, pushTarget } from \"./dep\"\r\n\r\nlet id = 0\r\n\r\nclass Watcher{\r\n  constructor(vm, exprOrFn, options, cb){\r\n    this.vm = vm\r\n    this.id = id++\r\n    this.renderWatcher = options\r\n    this.getter = typeof exprOrFn === 'string'? ()=>vm[exprOrFn] : exprOrFn//getter意味着调用这个函数可以发生取值操作\r\n    this.deps = []\r\n    this.depsId = new Set()\r\n    this.lazy = options.lazy\r\n    this.dirty = this.lazy\r\n    this.cb = cb\r\n    this.immediate = options.immediate\r\n    this.user = options.user\r\n\r\n    this.value = this.lazy? undefined : this.get()\r\n    this.immediate?this.cb(this.value, undefined) : undefined\r\n  }\r\n\r\n  addDep(dep){\r\n    let id = dep.id\r\n\r\n    if (!this.depsId.has(id)) {\r\n      this.depsId.add(id)\r\n      this.deps.push(dep)\r\n      dep.addSub(this)\r\n    }\r\n  }\r\n  depend(){\r\n    let i = this.deps.length\r\n    while (i--) {\r\n      this.deps[i].depend()\r\n    }\r\n  }\r\n  evaluate(){\r\n    this.value = this.get() //获取到用户函数的返回值 并且还要标识为脏\r\n    this.dirty = false\r\n  }\r\n  get(){\r\n    pushTarget(this)\r\n    let value = this.getter.call(this.vm)\r\n    popTarget()\r\n    return value\r\n  }\r\n  update(){\r\n    if (this.lazy) {\r\n      //如果是计算属性 依赖的值变化了 就标识计算属性是脏值了\r\n      this.dirty = true\r\n    }else{\r\n      queueWatcher(this)\r\n    }\r\n  }\r\n  run(){\r\n    let oldValue = this.value\r\n    let newValue = this.get()\r\n    if (this.user) {\r\n      this.cb.call(this.vm, newValue, oldValue)\r\n    }\r\n  }\r\n}\r\n\r\n\r\nlet queue = []\r\nlet has = {}\r\nlet pending = false\r\n\r\nfunction flushSchedulerQueue() {\r\n  let flushQueue = queue.slice(0)\r\n  queue = []\r\n  has = {}\r\n  pending = false\r\n  flushQueue.forEach(q => q.run())\r\n}\r\n\r\nfunction queueWatcher(watcher) {\r\n  const id = watcher.id\r\n  if (!has[id]) {\r\n    queue.push(watcher)\r\n    has[id] = true\r\n    if (!pending) {\r\n      pending = true\r\n      nextTick(flushSchedulerQueue)\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default Watcher","\r\nimport Watcher from \"./observe/watcher\"\r\nimport { mergeOptions, nextTick} from \"./utils\"\r\n\r\n \r\n\r\n\r\nexport function initGlobalAPI(Vue) {\r\n \r\n\r\n  Vue.options = {}\r\n\r\n  \r\n\r\n  Vue.mixin = function (mixin) {\r\n    this.options = mergeOptions(this.options, mixin)\r\n\r\n    return this\r\n  }\r\n\r\n  Vue.prototype.$nextTick = nextTick\r\n  Vue.prototype.$watch = function (exprOrFn, cb, options = {}) {\r\n    new Watcher(this, exprOrFn,{user: true, ...options}, cb)\r\n  }\r\n\r\n}","export function createElementVNode(vm, tag, data={}, ...children) {\r\n  if (!data) {\r\n    data ={}\r\n  }\r\n  let key =  data.key\r\n  if (key) {\r\n    delete data.key\r\n  }\r\n  return vnode(vm, tag, key, data, children)\r\n}\r\n\r\nexport function createTextVNode(vm, text) {\r\n  return vnode(vm, undefined, undefined, undefined, undefined,text)\r\n}\r\n\r\n\r\nfunction vnode(vm, tag, key, data, children, text) {\r\n  return{\r\n    vm,\r\n    tag,\r\n    key,\r\n    data,\r\n    children,\r\n    text\r\n  }\r\n}\r\n\r\nexport function isSameVnode(vnode1, vnode2) {\r\n  return vnode1.tag === vnode2.tag && vnode1.key === vnode2.key\r\n}","import { isSameVnode } from \".\";\r\n\r\nexport function createElm(vnode) {\r\n  let { tag, data, children, text } = vnode;\r\n  if (typeof tag === \"string\") {\r\n    vnode.el = document.createElement(tag);\r\n\r\n    patchProps(vnode.el, {}, data);\r\n\r\n    children.forEach((child) => {\r\n      vnode.el.appendChild(createElm(child));\r\n    });\r\n  } else {\r\n    vnode.el = document.createTextNode(text);\r\n  }\r\n  return vnode.el;\r\n}\r\nexport function patchProps(el, oldProps = {}, props = {}) {\r\n  //老的属性中有 新的没有 要删除老的\r\n\r\n  let oldStyle = oldProps.style || {};\r\n  let newStyle = props.style || {};\r\n\r\n  for (let key in oldStyle) {\r\n    if (!newStyle[key]) {\r\n      el.style[key] = \"\";\r\n    }\r\n  }\r\n\r\n  for (let key in oldProps) {\r\n    if (!props[key]) {\r\n      el.removeAttribute(key);\r\n    }\r\n  }\r\n\r\n  for (let key in props) {\r\n    if (key === \"style\") {\r\n      for (let styleName in props.style) {\r\n        el.style[styleName] = props.style[styleName];\r\n      }\r\n    } else {\r\n      el.setAttribute(key, props[key]);\r\n    }\r\n  }\r\n}\r\n\r\nexport function patch(oldVnode, vnode) {\r\n  //写的是初渲染流程\r\n  const isRealElement = oldVnode.nodeType;\r\n  if (isRealElement) {\r\n    const elm = oldVnode;\r\n    const parentElm = elm.parentNode; //拿到父元素\r\n    let newElm = createElm(vnode);\r\n    parentElm.insertBefore(newElm, elm.nextSibiling);\r\n    parentElm.removeChild(elm);\r\n    return newElm;\r\n  } else {\r\n    //1 两个节点不是同一个节点 直接删除老的换上新的\r\n    //2 两个节点是同一个节点 （判断节点 的tag 和 节点的key）比较 两个节点的属性是否有差异\r\n    //3 节点比较完毕后就需要比较两个人的儿子\r\n\r\n    return patchVnode(oldVnode, vnode);\r\n  }\r\n}\r\n\r\nfunction patchVnode(oldVnode, vnode) {\r\n  if (!isSameVnode(oldVnode, vnode)) {\r\n    let el = createElm(vnode);\r\n    oldVnode.el.parentNode.replaceChild(el, oldVnode.el);\r\n    return el;\r\n  }\r\n  //文本的情况 文本我们期望比较一下文本的内容\r\n  let el = (vnode.el = oldVnode.el);\r\n  if (!oldVnode.tag) {\r\n    //不存在tag 则是文本\r\n    if (oldVnode.text !== vnode.text) {\r\n      el.textContent = vnode.text;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 如果是标签 我们需要更新属性\r\n   */\r\n  patchProps(el, oldVnode.data, vnode.data);\r\n\r\n  /**\r\n   * 比较完自身节点后，比较儿子的节点\r\n   * 比较的时候 一方有儿子 一方没有儿子\r\n   *           两方都有儿子\r\n   */\r\n\r\n  let oldChildren = oldVnode.children || [];\r\n  let newChildren = vnode.children || [];\r\n\r\n  if (oldChildren.length > 0 && newChildren.length > 0) {\r\n    //完整的diff算法 需要比较两个人的儿子\r\n    updateChildren(el, oldChildren, newChildren);\r\n  } else if (newChildren.length > 0) {\r\n    //老的没有 新的有\r\n    mountChildren(el, newChildren);\r\n  } else if (oldChildren.length > 0) {\r\n    //新的没有 老的有\r\n    unMountChildren(el, oldChildren);\r\n  }\r\n\r\n  return el;\r\n}\r\n\r\nfunction updateChildren(el, oldChildren, newChildren) {\r\n  /**\r\n   * 为了比较两个儿子的时候，提高性能，我们会有一些优化手段\r\n   * 我们操作列表 经常会有 push shift pop unshift reverse sort 这些方法 针对这些情况做一些优化\r\n   * vue2中采用双指针的方式 来比较两个节点\r\n   */\r\n\r\n  let oldStartIndex = 0;\r\n  let newStartIndex = 0;\r\n  let oldEndIndex = oldChildren.length - 1;\r\n  let newEndIndex = newChildren.length - 1;\r\n\r\n  let oldStartVnode = oldChildren[0];\r\n  let newStartVnode = newChildren[0];\r\n\r\n  let oldEndVnode = oldChildren[oldEndIndex];\r\n  let newEndVnode = newChildren[newEndIndex];\r\n\r\n  //双方有一方头指针大于尾指针则停止循环\r\n  while (oldStartIndex <= oldEndIndex && newStartIndex <= newEndIndex) {\r\n    if (isSameVnode(oldStartVnode, newStartVnode)) {\r\n      patchVnode(oldStartVnode, newStartVnode); //如果是相同的节点  则递归比较子节点\r\n      oldStartVnode = oldChildren[++oldStartIndex];\r\n      newStartVnode = newChildren[++newStartIndex];\r\n    } else if (isSameVnode(oldEndVnode, newEndVnode)) {\r\n      patchVnode(oldEndVnode, newEndVnode);\r\n      oldEndVnode = oldChildren[--oldEndIndex];\r\n      newEndVnode = newChildren[--newEndIndex];\r\n    } else if (isSameVnode(oldStartVnode, newEndVnode)) {\r\n      patchVnode(oldStartVnode, newEndVnode);\r\n      el.insertBefore(oldStartVnode.el, oldEndVnode.el.nextSibiling);\r\n      oldStartVnode = oldChildren[++oldStartIndex];\r\n      newEndVnode = newChildren[--newEndIndex];\r\n    } else if (isSameVnode(oldEndVnode, newStartVnode)) {\r\n      patchVnode(oldEndVnode, newStartVnode);\r\n      el.insertBefore(oldEndVnode.el, oldStartVnode.el);\r\n      oldEndVnode = oldChildren[--oldEndIndex];\r\n      newStartVnode = newChildren[++newStartIndex];\r\n    }\r\n  }\r\n\r\n  if (newStartIndex <= newEndIndex) {\r\n    //多余的就创建插入进去即可\r\n    for (let i = newStartIndex; i <= newEndIndex; i++) {\r\n      let childEl = createElm(newChildren[i]);\r\n\r\n      //这里可能是向后追加 也有可能是向前追加\r\n\r\n      //参照物\r\n      let anchor = newChildren[newEndIndex + 1]\r\n        ? newChildren[newEndIndex + 1].el\r\n        : null;\r\n      el.insertBefore(childEl, anchor); //anchor 为null则为向后追加\r\n    }\r\n  }\r\n\r\n  if (oldStartIndex <= oldEndIndex) {\r\n    for (let i = oldStartIndex; i <= oldEndIndex; i++) {\r\n      let childEl = oldChildren[i].el;\r\n      el.removeChild(childEl);\r\n    }\r\n  }\r\n}\r\n\r\nfunction mountChildren(el, newChildren) {\r\n  for (let i = 0; i < newChildren.length; i++) {\r\n    let child = newChildren[i];\r\n    el.appendChild(createElm(child));\r\n  }\r\n}\r\nfunction unMountChildren(el, oldChildren) {\r\n  for (let i = 0; i < oldChildren.length; i++) {\r\n    let child = oldChildren[i].el;\r\n    el.removeChild(child);\r\n  }\r\n}\r\n","import Watcher from \"./observe/watcher\"\r\nimport { createElementVNode, createTextVNode } from \"./vdom\"\r\nimport { patch } from \"./vdom/patch\"\r\n\r\n\r\n\r\nexport function initLifeCycle(Vue) {\r\n  Vue.prototype._update = function (vnode) {\r\n    const vm = this\r\n    const el = vm.$el\r\n    //patch既有初始化的功能 又有更新的公共\r\n    const newEl = patch(el, vnode)\r\n    vm.$el = newEl\r\n  }\r\n\r\n  Vue.prototype._c = function () {\r\n    return createElementVNode(this, ...arguments)\r\n  }\r\n  Vue.prototype._v = function () {\r\n    return createTextVNode(this, ...arguments)\r\n  }\r\n  Vue.prototype._s = function (value) {\r\n    if(typeof value === 'object') return JSON.stringify(value)\r\n    return value\r\n  }\r\n\r\n  Vue.prototype._render = function () {\r\n    const vm = this\r\n    return vm.$options.render.call(vm) \r\n  }\r\n}\r\n\r\nexport function mountComponent(vm, el) {\r\n  vm.$el = el\r\n  //1.调用render方法产生虚拟节点 虚拟Dom\r\n\r\n  const updateComponent = () => {\r\n    vm._update(vm._render())\r\n  }\r\n\r\n  new Watcher(vm, updateComponent, true)\r\n  //2.根据虚拟DOM产生真实DOM\r\n\r\n  //3.插入到el元素中\r\n}\r\n\r\n\r\n\r\n//vue核心流程\r\n/**\r\n * 1. 创造了响应式数据 \r\n * 2. 模板转换成ast语法树\r\n * 3. 将ast语法树转换成了render函数\r\n * 4. 后续每次数据更新可以只执行render函数（无需再次执行ast转换的过程）\r\n * 5. render函数会生成虚拟DOm\r\n * 6. 根据生成的虚拟节点创造真实的DOM\r\n */\r\n\r\n\r\nexport function callHook(vm, hook) {\r\n  const handlers = vm.$options[hook]\r\n  if (handlers) {\r\n    handlers.forEach(handler => handler.call(vm))\r\n  }\r\n}","//我们希望重写数组中的部分方法\r\n\r\nlet oldArrayProto = Array.prototype //获取数组的原型\r\n\r\n//newArrayProto.__proto__ = oldArrayProto\r\nexport let newArrayProto = Object.create(oldArrayProto)\r\n\r\nlet methods = [ //找到所有的变异方法\r\n  'push',\r\n  'pop',\r\n  'unshift',\r\n  'shift',\r\n  'sort',\r\n  'reverse',\r\n  'splice'\r\n]\r\n\r\nmethods.forEach(method => {\r\n  newArrayProto[method] = function (...args) { //这里重写了数组的方法\r\n    const result = oldArrayProto[method].apply(this, args) //内部调用原来的方法，函数的劫持\r\n\r\n    //我们需要对新增的 数据再次进行劫持\r\n    let inserted\r\n    let ob = this.__ob__\r\n    switch (method) {\r\n      case 'push':\r\n      case 'unshift': //arr.push(1, 2, 3)\r\n        inserted = args\r\n        break;\r\n      case 'splice': //arr.splice(0, 1, {a:1},{b:2})\r\n        inserted = args.slice(2)\r\n      default:\r\n        break;\r\n    }\r\n    if (inserted) {\r\n      //对新增的内容再次进行观测\r\n      ob.observeArray(inserted)\r\n    }    \r\n\r\n    ob.dep.notify() //数组变化了，通知对应的watcher 实现更新逻辑\r\n    return result\r\n  }\r\n})","import {newArrayProto} from './array'\r\nimport Dep from './dep'\r\nclass Observe{\r\n  constructor(data){\r\n    //给每个对象都增加收集功能\r\n    this.dep = new Dep()\r\n    Object.defineProperty(data, '__ob__', {\r\n      value:this,\r\n      enumerable:false //将__ob__变成不可枚举（循环的时候无法获取到）\r\n    })\r\n    //给数据增加了一个标识 如果数据上有__ob__则说明这个属性被观测过了\r\n    if (Array.isArray(data)) {\r\n\r\n      //这里我们可以重写数组中的方法， 7个编译方法，是可以修改数组本身的\r\n      data.__proto__ = newArrayProto\r\n      this.observeArray(data) //如果是\r\n    }else{\r\n      this.walk(data)\r\n    }\r\n  }\r\n\r\n  walk(data){\r\n    Object.keys(data).forEach(key => defineReactive(data, key, data[key]))\r\n  }\r\n  observeArray(data){ //观测数组的值\r\n    data.forEach(item => observe(item))\r\n  }\r\n}\r\n\r\nfunction dependArray(value) {\r\n  for(let i = 0; i < value.length; i++){\r\n    let current = value[i]\r\n    current.__ob__ && current.__ob__.dep.depend()\r\n    if (Array.isArray(current)) {\r\n      dependArray(current)\r\n    }\r\n  }\r\n}\r\n\r\nexport function defineReactive(target, key, value) {\r\n  let childOb = observe(value)\r\n  let dep = new Dep()\r\n  Object.defineProperty(target, key, {\r\n    get(){\r\n      if (Dep.target) {\r\n        dep.depend() //让这个属性的收集器记住当前的watcher\r\n        if (childOb) {\r\n          childOb.dep.depend() //让数组和对象本身也实现依赖\r\n          if (Array.isArray(value)) {\r\n            dependArray(value)\r\n          }\r\n        }\r\n      }\r\n      return value\r\n    },\r\n    set(newValue){\r\n      if (newValue !== value) {\r\n        observe(newValue)\r\n        value = newValue\r\n        dep.notify()\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport function observe(data) {\r\n  if (typeof data !== 'object' || data === null) {\r\n    return\r\n  }\r\n  if (data.__ob__ instanceof Observe) {\r\n    return data.__ob__\r\n  }\r\n  return new Observe(data)\r\n}","import {observe} from './observe'\r\nimport Watcher from './observe/watcher'\r\nimport Dep from './observe/dep'\r\n\r\nexport  function initState(vm) {\r\n  const opts = vm.$options\r\n  // if (opts.props) {\r\n  //   initProps(opts.props)\r\n  // }\r\n\r\n  if (opts.data) {\r\n    initData(vm)\r\n  }\r\n  if (opts.computed) {\r\n    initComputed(vm)\r\n  }\r\n\r\n  if (opts.watch) {\r\n    initWatch(vm)\r\n  }\r\n}\r\n\r\n\r\nfunction initData(vm) {\r\n  let data = vm.$options.data\r\n  data = typeof data === 'function'? data.call(vm) : data\r\n  vm._data = data\r\n  proxy(vm, '_data')\r\n  observe(data)\r\n} \r\n\r\n\r\nfunction proxy(vm, target){\r\n  for(let key in vm[target]){\r\n      Object.defineProperty(vm, key, {\r\n          get(){\r\n              return vm[target][key]\r\n          },\r\n          set(newValue){\r\n              vm[target][key] = newValue\r\n          }\r\n      })\r\n  }\r\n}\r\n\r\n\r\nfunction initComputed(vm) {\r\n  const computed = vm.$options.computed\r\n  const watchers = vm._computedWatchers = {} //计算属性watcher保存到vm上\r\n  for(let key in computed){\r\n    let userDef = computed[key]\r\n\r\n    const fn = typeof userDef === 'function' ? userDef : userDef.get\r\n\r\n    //如果直接new Watcher 默认就会执行fn\r\n    watchers[key] = new Watcher(vm, fn, {lazy: true})\r\n\r\n    defineComputed(vm, key, userDef)\r\n  }\r\n}\r\n\r\nfunction defineComputed(target, key, userDef) {\r\n  //  const getter = typeof userDef === 'function' ? userDef : userDef.get\r\n  const setter = userDef.set|| (() => {})\r\n  Object.defineProperty(target, key, {\r\n    get:createComputedGetter(key),\r\n    set:setter\r\n  })\r\n}\r\n\r\nfunction createComputedGetter(key) {\r\n  \r\n  //我们需要检测是否要执行这个getter\r\n  return function () {\r\n    const watcher = this._computedWatchers[key] \r\n    if (watcher.dirty) {\r\n      watcher.evaluate()\r\n    }\r\n    if (Dep.target) {\r\n      watcher.depend()\r\n    }\r\n    \r\n    return watcher.value //最后返回的wather上面的值\r\n  }\r\n}\r\n\r\n\r\nfunction initWatch(vm) {\r\n  let watch = vm.$options.watch\r\n  for(let key in watch){\r\n    const handler = watch[key]\r\n    if (Array.isArray(handler)) {\r\n      for(let i = 0; i < handler.length; i++){\r\n        createWatcher(vm, key, handler[i])\r\n      }\r\n    }else if (typeof handler === 'object') {\r\n      let hanlderFn = handler.handler\r\n      delete handler.handler\r\n      createWatcher(vm, key, hanlderFn, handler)\r\n    }else{\r\n      createWatcher(vm, key, handler)\r\n    }\r\n  }\r\n}\r\n\r\nfunction createWatcher(vm, key, handler, options={}) {\r\n  if (typeof handler === 'string') {\r\n    handler = vm[handler]\r\n  }\r\n  return vm.$watch(key, handler, options)\r\n}","import { compileToFunction } from \"./compiler\"\r\nimport { mergeOptions } from \"./utils\"\r\nimport { callHook, mountComponent } from \"./lifecycle\"\r\nimport {initState} from \"./state\"\r\n\r\n function initMixin(Vue){\r\n  Vue.prototype._init = function (options) {\r\n    const vm = this\r\n    vm.$options = mergeOptions(vm.constructor.options, options) // 将用户的选项存在实例上\r\n\r\n    callHook(vm, 'beforeCreate')\r\n    initState(vm)\r\n    callHook(vm, 'created')\r\n\r\n\r\n\r\n    if (options.el) {\r\n      vm.$mount(options.el)\r\n    }\r\n  }\r\n\r\n  Vue.prototype.$mount = function (el) {\r\n    const vm = this\r\n    el = document.querySelector(el)\r\n    let ops = vm.$options\r\n    if (!ops.render) {\r\n      let template\r\n      if (!ops.template && el) {\r\n         template = el.outerHTML\r\n      }else{\r\n        if (ops.template) {\r\n          template = ops.template\r\n        }\r\n      }\r\n      if (template) {\r\n        const render = compileToFunction(template)\r\n        ops.render = render\r\n      }\r\n    }\r\n    mountComponent(vm, el) //组件挂载\r\n  }\r\n}\r\n\r\nexport default initMixin","import { compileToFunction } from \"./compiler\";\r\nimport { initGlobalAPI } from \"./gloablAPI\";\r\nimport initMixin from \"./init\";\r\nimport { initLifeCycle } from \"./lifecycle\";\r\nimport { createElm, patch } from \"./vdom/patch\";\r\n\r\nfunction Vue(options) {\r\n  this._init(options);\r\n}\r\n\r\ninitMixin(Vue);\r\ninitLifeCycle(Vue);\r\ninitGlobalAPI(Vue);\r\n\r\n//-------------------------------为了方便观察前后的虚拟节点----------------------------------------------\r\n\r\nlet render1 = compileToFunction(`<ul>\r\n<li key=\"d\" style=\"color:red\" >d</li>\r\n<li key=\"a\" style=\"color:red\" >a</li>\r\n<li key=\"b\" style=\"color:red\" >b</li>\r\n<li key=\"c\" style=\"color:red\" >c</li>\r\n</ul>`);\r\nlet vm1 = new Vue({ data: { name: \"www\" } });\r\nlet prevVnode = render1.call(vm1);\r\nlet el = createElm(prevVnode);\r\ndocument.body.appendChild(el);\r\n\r\nlet render2 = compileToFunction(`<ul>\r\n<li key=\"a\" style=\"color:pink\" >a</li>\r\n<li key=\"b\" style=\"color:pink\" >b</li>\r\n<li key=\"c\" style=\"color:pink\" >c</li>\r\n<li key=\"d\" style=\"color:pink\" >d</li>\r\n</ul>`);\r\nlet vm2 = new Vue({ data: { name: \"fff\" } });\r\nlet nextVnode = render2.call(vm2);\r\n\r\nsetTimeout(() => {\r\n  patch(prevVnode, nextVnode);\r\n}, 1000);\r\n\r\nexport default Vue;\r\n"],"names":["ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","parseHTML","html","ELEMENT_TYPE","TEXT_TYPE","stack","currentParent","root","createASTElement","tag","attrs","type","children","parent","start","node","push","chars","text","replace","end","pop","length","advance","n","substring","parseStartTag","match","tagName","attr","name","value","textEnd","indexOf","startTagMatch","endTagMatch","defaultTagRE","genProps","str","i","styleObj","res","JSON","stringify","slice","gen","codegen","test","tokens","lastIndex","exec","index","trim","join","genChildren","ast","map","child","code","compileToFunction","template","render","Function","strats","LIFECYCLE","forEach","hook","p","c","concat","mergeOptions","options","key","mergeField","hasOwnProperty","callbacks","waiting","flushCallbacks","cbs","cb","timerFunc","Promise","resolve","then","MutationObserver","observer","textNode","document","createTextNode","observe","characterData","textContent","setImmediate","setTimeout","nextTick","id","Dep","subs","target","addDep","watcher","update","pushTarget","popTarget","Watcher","vm","exprOrFn","renderWatcher","getter","deps","depsId","Set","lazy","dirty","immediate","user","undefined","get","dep","has","add","addSub","depend","call","queueWatcher","oldValue","newValue","queue","pending","flushSchedulerQueue","flushQueue","q","run","initGlobalAPI","Vue","mixin","prototype","$nextTick","$watch","createElementVNode","data","vnode","createTextVNode","isSameVnode","vnode1","vnode2","createElm","el","createElement","patchProps","appendChild","oldProps","props","oldStyle","style","newStyle","removeAttribute","styleName","setAttribute","patch","oldVnode","isRealElement","nodeType","elm","parentElm","parentNode","newElm","insertBefore","nextSibiling","removeChild","patchVnode","replaceChild","oldChildren","newChildren","updateChildren","mountChildren","unMountChildren","oldStartIndex","newStartIndex","oldEndIndex","newEndIndex","oldStartVnode","newStartVnode","oldEndVnode","newEndVnode","childEl","anchor","initLifeCycle","_update","$el","newEl","_c","arguments","_v","_s","_render","$options","mountComponent","updateComponent","callHook","handlers","handler","oldArrayProto","Array","newArrayProto","Object","create","methods","method","args","result","apply","inserted","ob","__ob__","observeArray","notify","Observe","defineProperty","enumerable","isArray","__proto__","walk","keys","defineReactive","item","dependArray","current","childOb","set","initState","opts","initData","computed","initComputed","watch","initWatch","_data","proxy","watchers","_computedWatchers","userDef","fn","defineComputed","setter","createComputedGetter","evaluate","createWatcher","hanlderFn","initMixin","_init","constructor","$mount","querySelector","ops","outerHTML","render1","vm1","prevVnode","body","render2","vm2","nextVnode"],"mappings":"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"}