{"version":3,"file":"vue.js","sources":["../src/observe/index.js","../src/state.js","../src/init.js","../src/index.js"],"sourcesContent":["class Observe{\r\n  constructor(data){\r\n    this.walk(data)\r\n  }\r\n\r\n  walk(data){\r\n    Object.keys(data).forEach(key => defineReactive(data, key, data[key]))\r\n  }\r\n}\r\n\r\n\r\nexport function defineReactive(target, key, value) {\r\n  Object.defineProperty(target, key, {\r\n    get(){\r\n      console.log('劫持用户的取值操作，get');\r\n      return value\r\n    },\r\n    set(newValue){\r\n      if (newValue !== value) {\r\n      console.log('劫持用户的设置操作，set');\r\n        value = newValue\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport function observe(data) {\r\n  if (typeof data !== 'object' || data === null) {\r\n    return\r\n  }\r\n  return new Observe(data)\r\n}","import {observe} from './observe'\r\n\r\nexport  function initState(vm) {\r\n  const opts = vm.$options\r\n  // if (opts.props) {\r\n  //   initProps(opts.props)\r\n  // }\r\n\r\n  if (opts.data) {\r\n    initData(vm)\r\n  }\r\n}\r\n\r\n\r\nfunction initData(vm) {\r\n  let data = vm.$options.data\r\n  data = typeof data === 'function'? data.call(vm) : data\r\n  vm._data = data\r\n\r\n  observe(data)\r\n} ","import {initState} from \"./state\"\r\n\r\n function initMixin(Vue){\r\n  Vue.prototype._init = function (options) {\r\n    const vm = this\r\n    vm.$options = options // 将用户的选项存在实例上\r\n    initState(vm)\r\n  }\r\n}\r\n\r\nexport default initMixin","import initMixin from \"./init\"\r\n\r\n\r\nfunction Vue(options) {\r\n  this._init(options)\r\n}\r\n\r\n\r\ninitMixin(Vue)\r\n\r\nexport default Vue"],"names":["Observe","data","walk","Object","keys","forEach","key","defineReactive","target","value","defineProperty","get","console","log","set","newValue","observe","initState","vm","opts","$options","initData","call","_data","initMixin","Vue","prototype","_init","options"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAAMA;EACJ,mBAAYC,IAAZ,EAAiB;EAAA;;EACf,SAAKC,IAAL,CAAUD,IAAV;EACD;;;;aAED,cAAKA,IAAL,EAAU;EACRE,MAAAA,MAAM,CAACC,IAAP,CAAYH,IAAZ,EAAkBI,OAAlB,CAA0B,UAAAC,GAAG;EAAA,eAAIC,cAAc,CAACN,IAAD,EAAOK,GAAP,EAAYL,IAAI,CAACK,GAAD,CAAhB,CAAlB;EAAA,OAA7B;EACD;;;;;;EAII,SAASC,cAAT,CAAwBC,MAAxB,EAAgCF,GAAhC,EAAqCG,KAArC,EAA4C;EACjDN,EAAAA,MAAM,CAACO,cAAP,CAAsBF,MAAtB,EAA8BF,GAA9B,EAAmC;EACjCK,IAAAA,GADiC,iBAC5B;EACHC,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;EACA,aAAOJ,KAAP;EACD,KAJgC;EAKjCK,IAAAA,GALiC,eAK7BC,QAL6B,EAKpB;EACX,UAAIA,QAAQ,KAAKN,KAAjB,EAAwB;EACxBG,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;EACEJ,QAAAA,KAAK,GAAGM,QAAR;EACD;EACF;EAVgC,GAAnC;EAYD;EAQM,SAASC,OAAT,CAAiBf,IAAjB,EAAuB;EAC5B,MAAI,QAAOA,IAAP,MAAgB,QAAhB,IAA4BA,IAAI,KAAK,IAAzC,EAA+C;EAC7C;EACD;;EACD,SAAO,IAAID,OAAJ,CAAYC,IAAZ,CAAP;EACD;;ECnCO,SAASgB,SAAT,CAAmBC,EAAnB,EAAuB;EAC7B,MAAMC,IAAI,GAAGD,EAAE,CAACE,QAAhB,CAD6B;EAG7B;EACA;;EAEA,MAAID,IAAI,CAAClB,IAAT,EAAe;EACboB,IAAAA,QAAQ,CAACH,EAAD,CAAR;EACD;EACF;;EAGD,SAASG,QAAT,CAAkBH,EAAlB,EAAsB;EACpB,MAAIjB,IAAI,GAAGiB,EAAE,CAACE,QAAH,CAAYnB,IAAvB;EACAA,EAAAA,IAAI,GAAG,OAAOA,IAAP,KAAgB,UAAhB,GAA4BA,IAAI,CAACqB,IAAL,CAAUJ,EAAV,CAA5B,GAA4CjB,IAAnD;EACAiB,EAAAA,EAAE,CAACK,KAAH,GAAWtB,IAAX;EAEAe,EAAAA,OAAO,CAACf,IAAD,CAAP;EACD;;EClBA,SAASuB,SAAT,CAAmBC,GAAnB,EAAuB;EACtBA,EAAAA,GAAG,CAACC,SAAJ,CAAcC,KAAd,GAAsB,UAAUC,OAAV,EAAmB;EACvC,QAAMV,EAAE,GAAG,IAAX;EACAA,IAAAA,EAAE,CAACE,QAAH,GAAcQ,OAAd,CAFuC;;EAGvCX,IAAAA,SAAS,CAACC,EAAD,CAAT;EACD,GAJD;EAKD;;ECLD,SAASO,GAAT,CAAaG,OAAb,EAAsB;EACpB,OAAKD,KAAL,CAAWC,OAAX;EACD;;EAGDJ,SAAS,CAACC,GAAD,CAAT;;;;;;;;"}